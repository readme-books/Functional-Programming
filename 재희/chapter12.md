### \# chapter 12

## ' 함수형 반복 '

- 함수형 도구 map(), filter(), reduce()
- 배열에 대한 반복문을 함수형 도구로 바꾸는 방법
- 함수형 도구를 구현하는 방법<br><br>


<hr>


## 함수형 도구 `map()`, `filter()`, `reduce()`

### `map()` 함수
- X(어떤 값의 집합) 값이 있는 배열을 Y(또 다른 값의 집합) 값이 있는 배열로 변환
  - X를 Y로 바꾸는 함수가 X를 인자로 받아 Y를 리턴해야 함
- map은 값 하나를 바꾸는 함수를 사용해서 배열 전체를 바꾸는데 사용
- 함수가 `계산`일 때 사용하기 쉬움
- map()에 계산을 넘기면 map을 사용하는 코드도 계산,<br>
map()에 액션을 넘기면 항목 개수 만큼 액션을 호출 -> map을 사용하는 코드도 액션이 됨
- 리턴값에 들어있는 항목을 확인하지 않는 문제
  - null이 생길 것을 고려해서 조심해서 사용
  - null을 허용하지 않는 언어를 사용
  - null을 없애고 싶다면 filter()를 사용


<br>

### `filter()` 함수
- 원래 배열을 가지고 새로운 배열을 만드는 고차 함수
- 새로운 배열에 담을 항목과 건너뛸 항목을 결정할 수 있음
- 항목이 X인 배열에 filter()를 적용하면 X 안의 항목들만 남되 원래 가진 항목보다 적은 항목일 수 있음(하위 집합으로 새로운 배열을 생성)
- 배열에서 일부 항목을 선택하기 위해 함수는 boolean 값을 리턴하는 함수를 전달해야 함
- map()처럼 함수가 `계산`일 때 사용하기 쉬움
- filter()는 배열의 모든 항목에 대해 전달하는 함수를 부름


<br>

### `reduce()` 함수
- 초깃값을 가지고 어떤 배열의 항목을 조합해 최종값을 생성
- 배열, 초깃값, 누적 함수를 받아 배열을 순회하면서 값을 누적함
- 값을 누적하는 것은 추상적으로 표현한 것, 값을 더하거나 해시 맵이나 문자열을 합치는 것도 가능
- 전달하는 함수를 통해 누적하는 방법을 결정할 수 있음
- 함수는 누적하고 있는 현재 값과 반복하고 있는 현재 배열의 항목을 인자로 받아 첫번째 인자와 같은 타입의 새로운 누적값을 리턴함
- 데이터를 요약하거나 시퀀스를 하나의 값으로 만들 때 주로 사용


### `reduce()`로 할 수 있는 것
- 실행 취소 / 실행 복귀<br>
현재 상태 : 리스트 형태의 사용자 입력에 reduce()를 적용한 것<br>
실행 취소 : 리스트의 마지막 사용자 입력을 없애는 것
- 테스트 할 때 사용자 입력 다시 실행<br>
시스템의 처음 상태(초깃값), 사용자 입력이 순서대로 리스트에 있을 때 모든 값을 합쳐 현재 상태로 만들 수 있음 ?
- 시간 여행 디버깅<br>
어떤 언어는 변경 사항을 어떤 시점으로 되돌릴 수 있음<br>
뭔가 잘못 동작하는 경우 특정 시점 상태의 값을 보관 가능<br>
문제를 고치고 새로운 코드로 다시 실행해볼 수 있음
- 회계 감사 추적<br>
특정 시점에 어떤일이 있었는지 기록 가능<br>
어떤 과정을 통해 일이 생겼는지도 알 수 있음


<br>
<hr>
